{"version":3,"sources":["Header.js","Loading.js","Tweet.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","Loading","Tweet","props","state","predictObj","sentence","barData","toxicity","identityAttack","insult","obscene","severeToxicity","sexualExplicit","threat","isLoading","surface","name","tab","this","resolveModel","model","classify","classifying","setState","results","probabilities","toFixed","console","log","tfvis","barchart","outputArr","key","hasOwnProperty","push","index","value","predictions","placeholder","type","onChange","e","target","onClick","predict","getBarValue","solveViz","checkRender","React","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4d76c79.chunk.js","sourcesContent":["import './styles.css';\nimport './Header.css';\nimport React from 'react';\n\nfunction Header() {\n  return(\n    <h1 className='header'></h1>\n  )\n}\n\nexport default Header;\n","import React from 'react'\nimport './Loading.scss'\nfunction Loading() {\n    return (\n        <div className = 'loader'> Loading...</div>\n    )\n}\n\nexport default Loading;\n","import './App.css';\nimport './styles.css';\nimport './Tweet.css';\nimport Loading from './Loading';\nimport React from 'react';\nimport * as tf from '@tensorflow/tfjs';\nimport * as tfvis from '@tensorflow/tfjs-vis';\nimport * as toxicity from '@tensorflow-models/toxicity';\n\n\nclass Tweet extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      // predictions: null,\n      predictObj : {},\n      sentence: '',\n      barData : [],\n      toxicity: 0,\n      identityAttack: 0,\n      insult: 0,\n      obscene: 0,\n      severeToxicity: 0,\n      sexualExplicit: 0,\n      threat: 0,\n      isLoading: false\n    };\n\n    // Render to visor\n    this.surface = { name: 'Bar chart', tab: 'Charts' };\n  }\n\n  async resolveModel() {\n    const threshold = 0.9;\n    // create model\n    return await toxicity.load(threshold);\n    // console.log(model)\n  }\n  \n  async predict(sentence) {\n    // add loading here\n    const model = await this.resolveModel()\n    const classifying = await model.classify([sentence])\n    this.setState({\n      identityAttack: classifying[0].results[0].probabilities[1].toFixed(3),\n      insult: classifying[1].results[0].probabilities[1].toFixed(3),\n      obscene: classifying[2].results[0].probabilities[1].toFixed(3),\n      severeToxicity: classifying[3].results[0].probabilities[1].toFixed(3),\n      sexualExplicit: classifying[4].results[0].probabilities[1].toFixed(3),\n      threat: classifying[5].results[0].probabilities[1].toFixed(3),\n      toxicity: classifying[6].results[0].probabilities[1].toFixed(3),\n      predictObj: classifying,\n      isLoading: false\n    })\n    console.log(classifying)\n    return classifying[6].results[0].probabilities[1]\n  }\n\n  //render the visualization\n  async solveViz() {\n    return await tfvis.render.barchart(this.surface, this.state.barData)\n  }\n\n  // get the values for the bar chart from the predictions\n  getBarValue() {\n    const predictObj = this.state.predictObj\n    let outputArr = []\n    for (let key in predictObj) {\n      if (predictObj.hasOwnProperty(key)) {\n          console.log(key + \" -> \" + predictObj[key]['label']);\n          console.log(predictObj[key].results[0].probabilities[1])\n          //append object to output array\n          outputArr.push({index: predictObj[key]['label'], value: predictObj[key].results[0].probabilities[1]})\n      }\n    }\n    this.setState({barData: outputArr})\n    console.log('bar data',this.state.barData)\n  }\n\n  checkRender() {\n    if (this.state.isLoading) { //renders when waiting for json request data\n      return (\n        <div className='data'>\n         <Loading />\n        </div>\n      )\n    } \n    return (\n    <div className='data'>\n      <p>Identity attack likelihood: {this.state.identityAttack}</p>\n      <p>Insult likelihood: {this.state.insult}</p>\n      <p>Obscene likelihood: {this.state.obscene}</p>\n      <p>Severe toxicity likelihood: {this.state.severeToxicity}</p>\n      <p>Sexual explicit likelihood: {this.state.sexualExplicit}</p>\n      <p>Threat likelihood: {this.state.threat}</p>\n      <p>Toxicity likelihood: {this.state.toxicity}</p>\n    </div>\n    )\n  }\n\n  render() {\n    \n    // console.log(tfvis.render.barchart(surface, data))\n    // render the visualization \n    // console.log(this.solveViz())\n    console.log('prediction',this.state.predictions)\n    console.log('predict obj',this.state.predictObj)\n    console.log('bar data',this.state.barData)\n    return (\n\n      <div className=\"App\">\n      <p className='h1'>What is your tweet? üê¶</p>\n      <input \n        placeholder='type something here...'\n        type=\"text\" \n        value={this.state.sentence} \n        onChange={(e) => this.setState({sentence: e.target.value})} \n      />\n      \n      <button \n        type='submit'\n        onClick={() => \n        {\n          //loading component\n          this.setState({isLoading : true})\n\n          this.predict(this.state.sentence)\n          //get the value for the bar graph\n          this.getBarValue()\n          // re render the visuals\n          // this.solveViz()\n          console.log('bar data',this.state.barData)\n          // tfvis.render.barchart(this.surface, this.state.barData)\n        }}\n      >\n        Submit\n      \n      </button>\n\n\n      <button \n        className='success'\n        onClick={() => \n        {\n          \n          //get the value for the bar graph\n          this.getBarValue()\n          // re render the visuals\n          this.solveViz()\n          console.log('bar data',this.state.barData)\n        }}\n      >\n        Click for Viz\n      </button>\n\n       {this.checkRender()}\n      {/* render the visualization */}\n      {/* {this.solveViz()} */}\n      \n    \n    </div>\n    );\n  }\n}\n\nexport default Tweet;\n","import './App.css';\nimport './styles.css';\nimport React from 'react';\nimport Header from './Header';\nimport Tweet from './Tweet';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Tweet />\n    </div>\n  )\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}